---
title: "A Proto Theory About Mental Effort and Production Rate"
format: html
editor: visual
---

Not too long ago, I suffered a concussion. The following weeks and months were stressful and sometimes scary, but also interesting for someone interested in the mind. I have previously published work on how metacognitive monitoring is influenced by the ease or difficulty of information processing, a construct called processing fluency. Because of this work, I not only experienced changes in processing fluency during this time, but also observed and thought about them a lot. These observations resulted in an idea.

The idea came mainly from a series of experiences that can be summarised as follows. When engaging with a thought and seeing where it would take me, the thoughts wouldn't come as they normally would, but I could stick with them. When I did, the thoughts would come, but more slowly, and I could feel a pressure or load building in my mind. Sometimes this would reach a level where it caused me nausea. This only happened when I continued to engage with thoughts, even though I could feel the mental effort or nausea building.

In the literature on processing fluency, it is often discussed in terms of how easy or difficult it is to process information, as well as how easy it is to retrieve information from memory (retrieval fluency) or to process perceptual information (perceptual fluency). However, my experiences suggest that it could be fruitful to consider processing fluency (and the other types of fluency) as two distinct yet interconnected processes: mental effort and mental production rate.

I define *Mental effort* as the experienced level of cognitive effort or load. At low levels, we are rarely consciously aware of it, but at high levels, it can even cause nausea. This construct is similar to the definition of processing fluency, but there are important differences that will be clarified. During my concussion, I experienced nausea from high cognitive load many times, but I had also experienced it before that, although rarely. For example, I experienced it when I took a class on multivariate Bayesian modelling and tried to visualise how different probabilities interacted.

I define *Mental production rate* as the rate at which mental events appear in our minds. This could be how quickly our inner voice produces words or sentences, how quickly we understand what we are looking at, how quickly we develop an idea or how quickly new Scrabble combinations come to mind. The ease with which we produce conscious experiences depends on the *task difficulty*. If it is something we have done many times before, only a little effort is required to produce them at a high rate. However, if the task is novel or difficult in some other way, or if our cognitive abilities are reduced (e.g. due to a concussion), more effort is required to produce them at a high rate.

Critical to this construct is that we have an *expected rate of production* from moment to moment and from task to task. If the rate of experiences is lower than we expect (not in an accepted span), mental effort is increased to raise the rate so it ends up in the accepted range If it is higher, mental effort is reduced. For example, imagine you are trying to form a sentence for a text, but the words aren't coming at the rate you expect. You are struggling to find the words. Then, mental effort may increase to try to increase the production rate. If no increase is achieved, we might give up. How hard we push likely depends on *goal importance*. That is, how important it is to us to achieve the aimed-for production rate. In addition, the expected rate we have from moment to moment likely depends on prior experiences, how active we are overall (fully engaged in a task, or trying to go to sleep), and task difficulty. And probably more factors. That is, again, mental effort increases to reach our expected rate of production in the current task, however, there is likely a continous process of reducing mental effort. That is, unless mental effort is increasing or the production rate is in the accepted range, the brain works to reduce mental effort.

Put differently, there is an ongoing balancing act between the production of mental experiences and the effort we put in to reaching an accepted level of production of conscious experiences. The following factors are critical to this model: 1. Mental effort 2. Mental production rate 3. Task difficulty 4. Expected rate of production 5. Goal importance

Mental production rate is influenced by task difficulty and the current mental effort. If we assume that task and task difficulty are held constant, then increasing or decreasing mental effort is the only way to change mental production rate. Whether or not mental effort is changed depends on the expected rate of production. If the mental production rate is within the expected/accepted range of production rate, then effort is unchanged, but if it's too low or unnecessarily high, then it is changed. If mental effort does not increase the rate as aimed for, mental effort may increase even more. However, at higher levels of mental effort, it may become uncomfortable or even cause nausea. If the goal we are trying to reach is important, we can accept this discomfort, but if it is not, we may give up/switch goal.

For example, in Jemstedt et al (2018) participants were shown words either written in all upper-case letters (e.g., EFFORT), or with every other letter being lower-case (eFfOrT) and asked to learn them for a later test. Over the two types of items, participants likely had a similar expected mental production rate based on their general experience of reading words, as they had no prior experience with a task like this. As such, when they read eFfOrT, the rate by which the word came to mind was lower than expected. That is, it took longer for them to read it than common words would usually take. This led their mental effort to increase to compensate. See Figure 1 below for a visualization of how mental effort and mental production rate change over an imagined task where a couple of words are processed in an experiment like this.

A useful analogy is the how a driver adjusts the speed of a car, where mental effort is how hard the accelerator is pressed, mental production rate is the car’s speed, and task difficulty is the slope of the road, such that steeper uphill sections require increasingly forceful acceleration to maintain the same speed.

**Figure 1.**. Figure illustrates an imagined experiment where a participant is trying to study six words (upper x-axis) for 5 seconds each (lower x-axis). How the word is shown (all upper-case letters a mix of upper- and lower-case letters) affects task difficulty, which impacts mental production rate, which in turn affects mental effort. The grey horizontal field shows the accepted/expected production rate for the task, which the model aims for the production rate to be within. The y-axis shows the level of production rate (blue line) and level of mental effort (orange line).

```{r}
#| echo: false
#| message: false
#| warning: false
# ------------------------------------------------------------
# Updated Effort–Rate controller model (R)
# Requirements you asked for:
#  - Starts at: production rate = 50% and effort = 20%
#  - Controller adjusts effort to keep production rate within 40–60% (blue band)
#  - Mixed-case words increase task difficulty -> drops production -> effort compensates
# ------------------------------------------------------------

library(ggplot2)

# --- Time axis ---
dt <- 0.1
t  <- round(seq(0, 30, by = dt), 1)
n  <- length(t)

# --- Word sections + labels (mixed-case = harder) ---
word_edges <- c(0, 5, 10, 15, 20, 25, 30)
midpoints  <- (head(word_edges, -1) + tail(word_edges, -1)) / 2
labels     <- c("APPLE", "tAbLe", "CHAIR", "eFfOrT", "WINDOW", "STONE")

# --- Task difficulty schedule (0..1) ---
difficulty <- rep(0.25, n)  # easy baseline

# Hard sections should match the mixed-case words: Word 2 (5-10) and Word 4 (15-20)
hard_sections <- list(c(5, 10), c(15, 20))  # [start, end)
for (seg in hard_sections) {
  a <- seg[1]; b <- seg[2]
  difficulty[t >= a & t < b] <- 0.85
}

# --- Expected production range (blue band) ---
expected_low  <- 40
expected_high <- 60
R_exp <- (expected_low + expected_high) / 2  # 50
span  <- (expected_high - expected_low) / 2  # 10

# --- Goal importance -> max tolerated effort ---
G     <- 0.8
E_max <- 60 + 40 * G

# Start effort at 20% and let the system "relax toward" 20% when possible
E_base <- 20

# --- Controller gains ---
k_up    <- 0.55
k_down  <- 0.35
k_relax <- 0.22

# --- Production-rate function (logistic) ---
# Calibrated so that at baseline difficulty (0.25) and effort 20%,
# the production rate is exactly 50% at t = 0.
Rmax <- 95
c1   <- 0.085
c2   <- 4.2
c0   <- 0.54464  # <-- key calibration to make rate(20, 0.25) = 50

production_rate <- function(E, D) {
  z <- (c1 * E) - (c2 * D) - c0
  Rmax / (1 + exp(-z))
}

# --- Simulation (0.1s resolution) ---
set.seed(3)

E <- numeric(n)
R <- numeric(n)

# Force the initial conditions you requested
E[1] <- 20
R[1] <- 50

# Noise level (optional, keep small so the control logic is easy to see)
rate_noise_sd <- 0.0

for (i in 2:n) {
  # Current production rate is generated from the function given previous effort + difficulty
  R_i <- production_rate(E[i - 1], difficulty[i - 1])
  R_i <- max(0, min(100, R_i + rnorm(1, mean = 0, sd = rate_noise_sd)))

  R[i] <- R_i

  # Controller: keep rate within the accepted range [expected_low, expected_high]
  err_low  <- max(0, expected_low  - R_i)  # below band -> increase effort
  err_high <- max(0, R_i - expected_high)  # above band -> decrease effort

  dE <- (k_up * err_low) - (k_down * err_high) - (k_relax * (E[i - 1] - E_base))
  E[i] <- max(0, min(E_max, E[i - 1] + dE * dt))
}

# --- Data frame (optional save to CSV) ---
df <- data.frame(
  time = t,
  task_difficulty = difficulty,
  mental_effort = E,
  mental_production_rate = R
)

# write.csv(df, "effort_rate_model_simulation.csv", row.names = FALSE)

# --- Plot ---
p <- ggplot(df, aes(x = time)) +
  # Expected production range (blue band): 40–60%
  annotate("rect", xmin = -Inf, xmax = Inf, ymin = expected_low, ymax = expected_high, alpha = 0.25) +

  # Vertical dividers between words
  geom_vline(xintercept = c(5, 10, 15, 20, 25), linewidth = 0.5) +

  # Lines
  geom_line(aes(y = mental_effort, color = "Mental effort"), linewidth = 1) +
  geom_line(aes(y = mental_production_rate, color = "Mental production rate"), linewidth = 1) +

  # Axes: bottom = seconds, top = noun labels (at section midpoints)
  scale_x_continuous(
    limits = c(0, 30),
    breaks = seq(0, 30, by = 5),
    name = "Seconds",
    sec.axis = dup_axis(breaks = midpoints, labels = labels, name = NULL)
  ) +
  scale_y_continuous(
    limits = c(0, 100),
    breaks = seq(0, 100, by = 20),
    labels = function(x) paste0(x, "%"),
    name = "Level"
  ) +
  scale_color_discrete(name = NULL) +
  theme_minimal(base_size = 12) +
  theme(
    legend.position = c(0.82, 0.92),
    legend.background = element_rect(fill = "white", color = NA),
    axis.title.x = element_text(margin = margin(t = 10)),
    axis.text.x = element_text(margin = margin(t = 2)),
    axis.text.x.top = element_text(margin = margin(b = 8)),
    axis.ticks.x.top = element_blank(),
    panel.grid.minor = element_blank()
  )

print(p)

# Optional save:
# ggsave("effort_rate_with_expected_range_only.png", p, width = 10, height = 4, dpi = 200)


```

